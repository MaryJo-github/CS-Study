# Section 5.3 비선형 자료 구조

- 일렬로 나열하지 않고 자료 순서나 관계가 복잡한 구조
- 트리나 그래프

## 5.3.1 그래프(Graph)

- 정점(node)과 간선(edge)으로 이루어진 집합

### 정점과 간선

- 어떠한 곳(**정점 vertex**)에서 어떠한 곳으로 무언가(**간선 edge**)를 통해 간다

- 정점으로 나가는 간선 - 해당 정점의 outdegree
들어오는 간선 - 해당 정점의 indegree
- 가중치
    - 간선과 정점 사이에 드는 비용

## 5.3.2 트리(Tree)

- 그래프 중 하나 - 정점과 간선으로 이루어짐
- 트리 구조로 배열된 일종의 계층적 데이터의 집합
- 루트 노드, 내부 노드, 리프 노드 등으로 구성
- 트리로 이루어진 집합 → 숲

### 트리의 특징

1. 부모, 자식 계층 구조를 가진다.
    
    **같은 경로상**에서 어떤 노드보다 위에 있으면 부모, 아래에 있으면 자식 노드
    
    Ex. 5번 노드 - 6, 7번 노드의 부모 노드
    
2. `V-1 = E` 간선 수 = 노드 수 - 1
3. 임의의 두 노드 사이의 경로는 **유일무이**하게 **존재**한다.
    
    → 트리 내의 어떤 노드와 어떤 노드까지의 경로는 반드시 존재
    

### 트리의 구성

- 루트 노드, 내부 노드, 리프 노드
    
    ### 루트 노드
    
    - 가장 위에 있는 노드
    - 트리를 탐색할 때 루트 노드를 중심으로 탐색하면 문제가 쉽게 풀리는 경우가 많다
    
    ### 내부 노드
    
    - 자식 노드가 있는 노드
    
    ### 리프 노드
    
    - 자식 노드가 없는 노드

### 트리의 높이와 레벨

- 깊이
    - 루트 노드부터 특정 노드까지 최단 거리로 갔을 때의 거리. 노드마다 다르다.
- 높이
    - 루트 노드부터 리프 노드까지 거리 중 **가장 긴 거리**
- 레벨
    - 보통 깊이와 같은 의미
- 서브트리
    - 트리 내의 하위 집합

### 이진트리

- 자식의 노드 수가 두 개 이하인 트리
- 분류
    
    - 정이진 트리(full binary tree): 자식 노드가 0 또는 2개인 이진 트리
    - 완전 이진 트리(complete binary tree): 왼쪽에서부터 채워져 있는 이진 트리
        
                                                                   마지막 레벨을 제외하고는 모든 레벨이 완전히 채워져있음
        
                                                                   마지막 레벨의 경우 왼쪽부터 채워져있다.
        
    - 변질 이진 트리(degenerate binary tree): 자식 노드가 1개뿐인 이진 트리
    - 포화 이진 트리(perfect binary tree): 모든 노드가 꽉 차 있는 이진 트리
    - 균형 이진 트리(balanced binary tree): 왼쪽과 오른쪽 노드의 높이 차이가 1 이하인 이진 트리
        
                                                                   map, set을 구성하는 레드 블랙 트리가 균형 이진 트리 중 하나
        

### 이진 탐색 트리(BST)

- 오른쪽 하위 트리 - 노드 값보다 큰 값만
- 왼쪽 하위 트리 - 노드 값보다 작은 값만
- 검색하기 좋다
    - 보통 O(log n)이지만 최악은 O(n) → 삽입 순서에 따라 선형적일 수 있기 때문
        

### AVL 트리(Adelson-Velsky and Landis tree)

- 위와 같이 최악의 선형적인 트리가 되는 것을 방지하고 스스로 균형을 잡는 이진 탐색 트리
- 두 자식 서부트리의 높이는 항상 최대 1만큼 차이가 난다.
- 탐색, 삽입, 삭제 모두 O(log n)
- 삽입, 삭제 할 때마다 균형이 안 맞는 것을 맞추기 위해 트리 일부를 왼쪽 혹은 오른쪽으로 회전시키며 균형을 잡는다.

### 레드 블랙 트리

- 균형 이진 탐색 트리
- 모든 리프 노드와 루트 노드는 블랙이고 어떤 노드가 레드이면 그 노드의 자식은 반드시 블랙이다
- 탐색, 삽입, 삭제 모두 O(log n)
- 각 노드는 빨간색 또는 검은색의 색상을 나타내는 추가 비트를 저장
    
    → 삽입 및 삭제 중에 트리가 균형을 유지하도록 하는 데 사용된다. 
    
- ex. C++ STL의 set, multiset, map, multimap

## 5.3.3 힙(Heap)

- 완전 이진 트리 기반의 자료 구조
- 최소힙, 최대힙
    - 최소힙
        - 루트 노드에 있는 키는 모든 자식에 있는 키 중에서 최솟값
        - 각 노드의 자식 노드와의 관계도 이와 같은 특징이 재귀적으로
    - 최대힙
        - 루트 노드에 있는 키는 모든 자식에 있는 키 중에서 최댓값
        - 각 노드의 자식 노드와의 관계도 이와 같은 특징이 재귀적으로
- 어떠한 값이 들어와도 특정 힙의 규칙을 지키게 만들어짐

### 최대힙의 삽입

- 힙에 새로운 요소가 들어오면
    1. 새로운 노드를 힙의 마지막 노드에 이어서 삽입
    2. 부모 노드들과의 크기를 비교하며 교환해서 힙의 성질 만족시키기

### 최대힙의 삭제

1. 루트 노드(최댓값) 삭제
2. 마지막 노드와 루트 노드 스왑하여 또다시 스왑의 과정을 거쳐 재구성

## 5.3.4 우선순위 큐(Priority Queue)
- 우선순위 대기열
- 우선순위가 높은 요소가 우선순위가 낮은 요소보다 먼저 제공되는 자료구조
- 힙 기반 구현

## 5.3.5 맵(Map)

- 특정 순서에 따라 키와 매핑된 값의 조합으로 형성된 자료 구조
- 레드 블랙 트리 자료구조 기반
- 삽입시 자동 정렬

## 5.3.6 셋(Set)

- 특정 순서에 따라 고유한 요소를 저장하는 컨테이너
- 중복 요소 없음. 희소한(unique) 값만 저장하는 자료 구조

## 5.3.7 해시 테이블(Hash Table)

- 무한에 가까운 데이터들을 유한한 개수의 해시 값으로 매핑한 테이블
- 삽입, 삭제, 탐색 평균 O(1)
